<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hedef Takip</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        :root {
            --card-bg: #ffffff;
            --card-border: #dee2e6;
            --card-shadow: 0 12px 32px rgba(0,0,0,0.12);
            --progress-bg: #0d6efd;
            --text-color: #212529;
            --text-muted: #6c757d;
        }

        body {
            background: linear-gradient(rgba(0,0,0,0.45), rgba(0,0,0,0.45)), 
                        url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80') 
                        center center / cover no-repeat fixed;
            min-height: 100vh;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-color);
        }

        .container { max-width: 1100px; }

        .goal-card {
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 1.2rem;
            box-shadow: var(--card-shadow);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            overflow: hidden;
        }

        .goal-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.18);
        }

        .goal-card.pinned {
            border: 3px solid #ffc107;
            box-shadow: 0 16px 40px rgba(255,193,7,0.25);
        }

        .progress {
            height: 10px;
            border-radius: 10px;
            background: #e9ecef;
        }

        .progress-bar {
            background: var(--progress-bg) !important;
            border-radius: 10px;
        }

        .form-control, .form-range {
            border-radius: 0.8rem;
            background: white;
            color: #212529;
        }

        .btn {
            border-radius: 0.8rem;
            font-weight: 600;
        }

        .btn-primary {
            background: #0d6efd;
            border: none;
        }

        .btn-primary:hover {
            background: #0b5ed7;
        }

        .goal-icon {
            color: #ffc107;
            font-size: 2.4rem;
            filter: drop-shadow(0 0 10px rgba(255,193,7,0.5));
        }

        .text-shadow { text-shadow: 2px 2px 10px rgba(0,0,0,0.6); }

        /* TEMA RENKLERİ – KARTLAR VE YAZILAR TAM RENK ALIR */
        body[data-theme="dark"] {
            --card-bg: #212529;
            --card-border: #495057;
            --card-shadow: 0 12px 32px rgba(0,0,0,0.5);
            --text-color: #f8f9fa;
            --text-muted: #adb5bd;
            --progress-bg: #0dcaf0;
        }
        body[data-theme="dark"] .form-control { background: #343a40; color: #fff; border-color: #495057; }

        body[data-theme="blue"] {
            --card-bg: #e3f2fd;
            --card-border: #0d6efd;
            --text-color: #0d47a1;
            --text-muted: #1976d2;
            --progress-bg: #0d6efd;
        }

        body[data-theme="green"] {
            --card-bg: #e8f5e9;
            --card-border: #198754;
            --text-color: #1b5e20;
            --text-muted: #2e7d32;
            --progress-bg: #198754;
        }

        /* Yazılar her temada net okunur */
        .card-title, .card-text, small, .form-control::placeholder {
            color: var(--text-color) !important;
        }
        .text-muted { color: var(--text-muted) !important; }
    </style>
</head>
<body data-theme="light">

<div class="container mt-5">
    <!-- Başlık + Altın Hedef Oku -->
    <div class="d-flex align-items-center mb-4">
        <h1 class="text-white text-shadow me-3 mb-0">Hedef Takip</h1>
        <i class="bi bi-bullseye goal-icon"></i>
    </div>

    <!-- Tema Seçici -->
    <div class="d-flex justify-content-end mb-4">
        <div class="dropdown">
            <button class="btn btn-light dropdown-toggle shadow-sm" data-bs-toggle="dropdown">
                <i class="bi bi-palette"></i> Tema
            </button>
            <ul class="dropdown-menu">
                <li><button class="dropdown-item theme-btn" data-theme="light">Açık</button></li>
                <li><button class="dropdown-item theme-btn" data-theme="dark">Koyu</button></li>
                <li><button class="dropdown-item theme-btn" data-theme="blue">Mavi</button></li>
                <li><button class="dropdown-item theme-btn" data-theme="green">Yeşil</button></li>
            </ul>
        </div>
    </div>

    <!-- Hedef Ekleme Formu -->
    <form id="goal-form" class="goal-card p-4 mb-4">
        <div class="row g-3">
            <div class="col-md-6">
                <input type="text" id="goal-name" class="form-control form-control-lg" placeholder="Hedef Adı" required>
            </div>
            <div class="col-md-3">
                <input type="text" id="goal-category" class="form-control form-control-lg" placeholder="Kategori" required>
            </div>
            <div class="col-md-3">
                <button type="submit" class="btn btn-primary btn-lg w-100">Ekle</button>
            </div>
        </div>
        <div class="mt-3">
            <textarea id="goal-description" class="form-control form-control-lg" rows="2" placeholder="Açıklama" required></textarea>
        </div>
    </form>

    <!-- Hedef Listesi -->
    <div id="goal-list" class="row g-3"></div>
</div>

<!-- Toast -->
<div class="toast-container position-fixed bottom-0 end-0 p-3">
    <div id="liveToast" class="toast align-items-center text-white bg-success border-0" role="alert">
        <div class="d-flex">
            <div class="toast-body" id="toast-body"></div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="js/storage.js"></script>
<script src="js/ui.js"></script>
<script src="js/app.js"></script>
</body>
</html>